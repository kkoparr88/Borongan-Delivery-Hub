<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login</title>
</head>

<body>

<h2>Login</h2>
<input id="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button id="loginBtn">Login</button>
<div id="error"></div>

<script>
const SCRIPT_URL = "PASTE YOUR /exec URL HERE";

document.getElementById("loginBtn").addEventListener("click", () => {
  const email = email.value.trim();
  const password = password.value.trim();
  const error = document.getElementById("error");
  error.textContent = "";

  if (!email || !password) {
    error.textContent = "Missing fields";
    return;
  }

  fetch(SCRIPT_URL, {
    method: "POST",
    body: JSON.stringify({ action: "login", email, password })
  })
  .then(r => r.text())
  .then(t => {
    const data = JSON.parse(t);
    if (data.success) {
      localStorage.setItem("customer", JSON.stringify(data.customer));
      window.location.replace("./");
    } else {
      error.textContent = data.message;
    }
  })
  .catch(() => error.textContent = "Network error");
});
</script>

</body>
</html>
