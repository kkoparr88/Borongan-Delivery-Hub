<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Borongan Delivery Hub | Login</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
* { box-sizing:border-box; margin:0; padding:0; font-family:'Poppins', sans-serif; }
body {
  background: linear-gradient(135deg, #0d2a3a, #1b4f72);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#fff;
}
.login-box {
  background-color:#0a1f2e;
  padding:35px;
  border-radius:12px;
  width:100%;
  max-width:350px;
}
.error { margin-top:15px; color:#ff8080; text-align:center; }
</style>
</head>

<body>
<div class="login-box">
  <h2>Customer Login</h2>

  <input id="email" type="email" placeholder="Email"><br><br>
  <input id="password" type="password" placeholder="Password"><br><br>

  <button id="loginBtn" onclick="login()">Login</button>
  <div id="error" class="error"></div>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec";

function login() {
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value.trim();
  const errorBox = document.getElementById("error");

  if (!email || !password) {
    errorBox.textContent = "Fill all fields.";
    return;
  }

  const callbackName = "loginCallback";

  window[callbackName] = function(data) {
    delete window[callbackName];
    document.getElementById("jsonp").remove();

    if (data.success) {
      localStorage.setItem("customer", JSON.stringify(data.customer));
      window.location.href = "index.html";
    } else {
      errorBox.textContent = data.message;
    }
  };

  const script = document.createElement("script");
  script.id = "jsonp";
  script.src = `${SCRIPT_URL}?callback=${callbackName}&email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`;
  document.body.appendChild(script);
}
</script>
</body>
</html>
